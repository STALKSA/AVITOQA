

# Отчеты об ошибках

## Ошибка 1: Неверная обработка идентификатора продавца
**Описание**: При запросе объявлений для несуществующего `sellerID` API возвращает `200 OK` вместо `404 Not Found`.
**Шаги**:
1. Отправьте запрос GET на `/api/1/{sellerID}/item` с несуществующим идентификатором продавца.
2. Ответ возвращает статус `200` с пустым массивом вместо `404`.

**Ожидаемый результат**: 
Ответ должен возвращать `404 Not Found`.

**Фактический результат:**
Сервер возвращает `200 OK`.

---

## Ошибка 2: API позволяет создавать объявления с некорректными данными
**Описание**: API сохраняет объявления с пустым именем и отрицательной ценой, что не должно происходить.
1. Отправить запрос POST на `/api/1/item` с телом:

```json
    {
        "name": "",
        "price": -1000,
        "sellerId": 3452,
        "statistics": {
            "contacts": 32,
            "like": 35,
            "viewCount": 14
        }
    }
```

2. Сервер возвращает статус `200 OK` и сообщение о сохранении объявления.

**Ожидаемый результат:**
Сервер должен вернуть статус `400 Bad Request` и сообщение об ошибке (например, "Invalid request data"), если в теле запроса есть пустое имя или отрицательная цена.

**Фактический результат:**
Сервер сохраняет объявление с некорректными данными и возвращает `200 OK`.

---

## Ошибка 3: Ошибка 500 при создании объявления через API

**Описание:**
При попытке создать объявление через API на эндпоинт `/api/1/item`, сервер возвращает внутреннюю ошибку с кодом `500`.

**Шаги для воспроизведения:**
1. Отправить запрос POST на `/api/1/item` с телом:
    ```json
    {
        "name": "Тестовый смартфон",
        "price": 30000,
        "sellerId": 3452
    }
    ```
2. Сервер возвращает статус `500` и следующее сообщение:
    ```json
    {
        "message": "internal error",
        "code": 500
    }
    ```

**Ожидаемый результат:**
Сервер должен создать объявление и вернуть статус `201 Created`.

**Фактический результат:**
Сервер возвращает статус `500 Internal Server Error`.

---

## Ошибка 4: Внутренняя ошибка сервера (500) при создании объявления

**Описание:**
При попытке создать объявление через API сервер возвращает внутреннюю ошибку с кодом `500`.

**Шаги для воспроизведения:**
1. Отправить запрос POST на `/api/1/item` с телом:
    ```json
    {
        "name": "Ноутбук",
        "price": 70000,
        "sellerId": 5678
    }
    ```

2. Сервер возвращает сообщение об ошибке:
    ```json
    {
        "message": "internal error",
        "code": 500
    }
    ```

**Ожидаемый результат:**
Сервер должен успешно создать объявление и вернуть статус `201 Created`.

**Фактический результат:**
Сервер возвращает статус `500 Internal Server Error`.

---

## Ошибка 5: Сервер возвращает `500 Internal Server Error` вместо `400 Bad Request` при пустом теле запроса
### Баг: Сервер возвращает `500 Internal Server Error` вместо `400 Bad Request` при пустом теле запроса

**Описание:**
При попытке отправить запрос с пустым телом на создание объявления, сервер возвращает внутреннюю ошибку (код `500`) вместо ожидаемого кода `400 Bad Request`.

**Шаги для воспроизведения:**
1. Отправить запрос POST на `/api/1/item` с телом:
    ```json
    {}
    ```

2. Сервер возвращает ошибку:
    ```json
    {
        "message": "internal error",
        "code": 500
    }
    ```

**Ожидаемый результат:**
Сервер должен возвращать код `400 Bad Request` с сообщением об ошибке (например, `"Invalid request data"`).

**Фактический результат:**
Сервер возвращает код `500 Internal Server Error`.

---

## Ошибка 6: Сервер возвращает ошибку 500 при отсутствии обязательного поля "name"

**Описание:**
При отправке запроса на создание объявления без обязательного поля `name` сервер возвращает ошибку `500 Internal Server Error` вместо ожидаемой ошибки `400 Bad Request`.

**Шаги для воспроизведения:**
1. Отправить запрос POST на `/api/1/item` с телом:
    ```json
    {
        "price": 50000,
        "sellerId": 1234
    }
    ```
2. Сервер возвращает ошибку `500`.

**Ожидаемый результат:**
Сервер должен вернуть статус `400 Bad Request` с сообщением о том, что поле `name` является обязательным.

**Фактический результат:**
Сервер возвращает статус `500 Internal Server Error`.

---

## Ошибка 7: Сервер возвращает ошибку 500 при создании объявления

**Описание:**
При отправке запроса на создание объявления с корректными данными сервер возвращает ошибку 500 Internal Server Error вместо ожидаемого статуса 201 Created.

**Шаги для воспроизведения:**
1. Отправить запрос POST на `/api/1/item` с телом:

```json
{
    "name": "Товар",
    "price": 50000,
    "sellerId": 1234
}

```

2. Сервер возвращает ошибку `500`.

```json
{
    "message": "internal error",
    "code": 500
}

```

**Ожидаемый результат:**
Сервер должен вернуть статус `201 Created` и идентификатор созданного объявления.

**Фактический результат:**
Сервер возвращает статус `500 Internal Server Error`.
